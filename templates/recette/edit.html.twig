{% extends 'base.html.twig' %}

{% block title %}Edit Recette{% endblock %}

{% block body %}
{# Ana kapsayıcı, sayfayı ortalar ve kenar boşluklarını (10cm civarı) sağlar #}

<div class="flex items-center justify-center min-h-screen bg-gray-50 p-6">
<div class="w-full max-w-4xl bg-white p-8 md:p-10 rounded-2xl shadow-2xl border border-gray-100">

    {# BÜYÜTÜLMÜŞ BAŞLIK STİLİ #}
    <h1 class="text-5xl font-extrabold text-gray-800 mb-8 border-b-4 border-orange-500 pb-3">
        Edit Recette
    </h1>

    {# Ana Form Başlangıcı #}
    {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}
        
        <div class="space-y-6">
            
            {# KATEGORİ ALANI #}
            <div class="form-group">
                {{ form_label(form.categorie, 'Catégorie', {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-2'}}) }}
                {{ form_widget(form.categorie, {'attr': {'class': 'w-full py-2 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition duration-150 ease-in-out'}}) }}
                {{ form_errors(form.categorie) }}
            </div>

            {# DİĞER FORMLAR İÇİN GENEL STİL UYGULAMASI #}
            {% set default_input_class = 'w-full py-2 px-4 border border-gray-300 rounded-lg shadow-sm focus:ring-orange-500 focus:border-orange-500 transition duration-150 ease-in-out' %}
            {% set textarea_class = default_input_class ~ ' h-32 resize-y' %}

            <div class="form-group">
                {{ form_row(form.titre, {'attr': {'class': default_input_class}}) }}
            </div>
            
            <div class="form-group">
                {{ form_row(form.description, {'attr': {'class': textarea_class}}) }}
            </div>
            
            <div class="form-group">
                {{ form_row(form.ingredients, {'attr': {'class': textarea_class}}) }}
            </div>
            
            <div class="form-group">
                {{ form_row(form.etapes, {'attr': {'class': textarea_class}}) }}
            </div>
            
            {# HAZIRLIK VE PİŞİRME SÜRESİ YAN YANA #}
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="form-group">
                    {{ form_label(form.tempPreparation, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-2'}}) }}
                    {{ form_widget(form.tempPreparation, {'attr': {'class': default_input_class}}) }}
                    {{ form_errors(form.tempPreparation) }}
                </div>
                <div class="form-group">
                    {{ form_label(form.tempCuisson, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-2'}}) }}
                    {{ form_widget(form.tempCuisson, {'attr': {'class': default_input_class}}) }}
                    {{ form_errors(form.tempCuisson) }}
                </div>
            </div>
            
            {# RESİM ALANI (İKON İLE) #}
            <div class="form-group">
                {{ form_label(form.image, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700 mb-2'}}) }}
                <div class="relative">
                    <i class="fas fa-camera text-xl text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"></i>
                    {{ form_widget(form.image, {'attr': {'class': default_input_class ~ ' pl-10'}}) }}
                </div>
                {{ form_errors(form.image) }}
            </div>

        </div>
        
        {# SADECE MODIFIER BUTONU KALDI (Diğerleri form sonrasında) #}
        <div class="flex justify-end mt-8">
            <button 
                class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-xl shadow-lg transition duration-300 transform hover:scale-[1.01] cursor-pointer focus:outline-none focus:ring-4 focus:ring-orange-300" 
                type="submit">
                <i class="fas fa-sync-alt mr-2"></i> Modifier
            </button>
        </div>

    {{ form_end(form) }}
    {# Ana Form Sonu #}


    {# TÜM AKSİYON BUTONLARININ GRUPLANMASI #}
    <div class="flex items-center justify-between mt-10 pt-6 border-t border-gray-200">
        
        {# GERİ DÖN BUTONU #}
        <a href="{{ path('app_admin_recettes') }}" 
           class="flex items-center text-gray-600 hover:text-orange-600 font-medium py-2 px-4 rounded-lg transition duration-300 cursor-pointer border border-gray-300 hover:border-orange-500">
            <i class="fas fa-arrow-left mr-2"></i> Retour
        </a>

        {# SİLME BUTONU (Delete Form'dan gelir) #}
        <div class="delete-form-container">
            {# _delete_form.html.twig içeriği bir form butonu içermelidir. #}
            {{ include('recette/_delete_form.html.twig', ) }}
        </div>
    </div>

</div>

</div>
{% endblock %}